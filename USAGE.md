# CopilotNode Web - 多画图功能使用说明

## ✅ 已修复问题

### 1. 创建画图按钮修复
- **问题**: 点击 + 按钮无法创建新画图
- **修复**: 优化JavaScript加载顺序和事件监听器
- **现状**: ✅ 创建按钮现已正常工作

### 2. 节点添加功能修复
- **问题**: 无法为画图添加操作节点
- **修复**: 完善画图选择状态管理和用户提示
- **现状**: ✅ 选择画图后可正常添加节点

## 🆕 新增功能

### 1. 多画图同步运行
- 支持创建多个独立的画图工作流
- 每个画图可以同时执行，互不干扰
- 实时显示每个画图的执行状态和进度

### 2. 侧边栏折叠功能
- 点击 ◀ 按钮折叠画图管理器面板
- 点击 ▶ 按钮展开画图管理器面板
- 折叠状态自动保存，刷新后保持

### 3. 操作边界控制
- 为每个画图设置独立的屏幕操作范围
- 防止操作超出指定区域
- 支持边界预览功能

### 4. 智能用户提示
- 当前画图状态指示器
- 动态显示相应的操作提示
- 明确的警告信息指导用户操作

## 🚀 使用流程

### 步骤1: 创建画图
1. 点击左侧画图管理器的 **+** 按钮
2. 输入画图名称
3. 设置操作边界（可选）
4. 点击"创建"按钮

### 步骤2: 选择画图
1. 在左侧画图列表中点击要编辑的画图
2. 画图会高亮显示，右侧显示"当前画图"指示器
3. 界面显示操作说明提示

### 步骤3: 添加节点
1. 确保已选择一个画图（右侧显示画图名称）
2. 从右侧节点面板拖拽节点到中间画布
3. 连接节点创建工作流
4. 节点会自动保存到当前画图

### 步骤4: 执行画图
1. 在画图列表中点击 ▶ 按钮开始执行
2. 实时查看执行进度和状态
3. 点击 ⏹ 按钮可以停止执行

### 步骤5: 管理画图
- **删除**: 点击 🗑️ 按钮删除画图
- **设置边界**: 选择画图后在左下角设置操作边界
- **预览边界**: 点击"预览边界"按钮查看操作范围
- **折叠面板**: 点击 ◀ 按钮节省界面空间

## 🔧 高级功能

### 操作边界设置
- **X坐标**: 操作区域左上角X坐标
- **Y坐标**: 操作区域左上角Y坐标  
- **宽度**: 操作区域宽度
- **高度**: 操作区域高度

### 自动保存
- 节点修改后2秒自动保存
- 切换画图时自动保存当前画图
- 无需手动保存操作

### 多画图并发执行
- 可同时运行多个画图
- 每个画图独立的进度追踪
- 不同画图的操作边界互不影响

## 🐛 故障排除

### 问题1: 无法添加节点
- **检查**: 是否选择了画图？
- **解决**: 点击左侧画图列表中的画图项目
- **确认**: 右侧显示"当前画图: xxx"

### 问题2: 创建按钮无反应
- **检查**: 浏览器控制台是否有错误
- **解决**: 刷新页面重试
- **确认**: 点击+按钮应弹出创建对话框

### 问题3: 节点执行超出边界
- **检查**: 画图是否设置了操作边界
- **解决**: 在左下角"操作边界"设置正确范围
- **确认**: 点击"预览边界"查看范围

## 📝 注意事项

1. **创建画图是必需的**: 必须先创建并选择画图才能添加节点
2. **边界设置**: 建议为每个画图设置合适的操作边界
3. **自动保存**: 修改会自动保存，无需担心丢失
4. **并发限制**: 建议同时运行的画图数量不超过5个
5. **浏览器兼容**: 推荐使用Chrome、Firefox等现代浏览器

## 🔄 更新日志

**v2.0** - 多画图功能
- ✅ 修复创建画图按钮问题
- ✅ 修复节点添加功能
- ✅ 新增侧边栏折叠功能
- ✅ 新增操作边界控制
- ✅ 新增智能用户提示
- ✅ 新增多画图并发执行

**v1.0** - 基础功能
- ✅ 单画图节点编辑
- ✅ 基础执行功能
- ✅ 节点类型支持